<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Team Builder</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #111; color: #fff; }
    header { background: #222; padding: 20px; text-align: center; }
    .controls { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
    select, button { font-size: 14px; padding: 4px 6px; margin: 4px; }
    #instructions { text-align: center; padding: 10px; font-size: 16px; background-color: #333; }
    .pitch-container { display: flex; justify-content: center; padding: 40px; background: #004400; }
    table {
      margin: 20px 0 20px 3%; width: 94%; max-width: 900px;
      border-collapse: collapse; background-color: #eee; color: #000;
    }
    table, th, td { border: 1px solid #888; }
    th, td { padding: 8px 12px; text-align: center; }
    th { background: #ccc; }
    .player-row { display: flex; justify-content: center; gap: 20px; margin: 10px 0; }
    .shirt {
      width: 100px; height: 100px; border-radius: 50%; border: 2px solid white;
      position: relative; background-size: cover; background-position: center; cursor: pointer;
    }
    .shirt::after {
      content: "\1F455"; font-size: 36px; position: absolute;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
      color: white; pointer-events: none;
    }
    .shirt.filled::after {
      content: attr(data-initial); font-size: 14px; font-weight: bold;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
    }
    .modal-backdrop {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.7); display: flex; justify-content: center;
      align-items: center; z-index: 1000;
    }
    .modal {
      background: #fff; color: #000; padding: 20px;
      border-radius: 8px; max-width: 300px; max-height: 80%;
      overflow-y: auto; box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    .modal h3 { margin-top: 0; }
    .modal ul { list-style: none; padding: 0; margin: 0; }
    .modal li { padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #ccc; }
    .modal li:hover { background: #eee; }
    @media (min-width: 768px) {
      .shirt::after { font-size: 56px; }
      .shirt.filled::after { font-size: 28px; font-weight: bold; }
    }
  </style>
</head>
<body>
  <header>
    <div id="instructions">
      <p><strong>Get started:</strong> Select a mode, then a league, then a team to build your squad.</p>
    </div>
    <div class="controls">
      <label for="modeSelect">Team Type:</label>
      <select id="modeSelect">
        <option value="" disabled selected>Select mode</option>
        <option value="legend">Legend Team</option>
        <option value="current">25/26 Team</option>
      </select>
      <label for="leagueSelect">League:</label>
      <select id="leagueSelect">
        <option value="" disabled selected>Select league</option>
      </select>
      <label for="teamSelect">Select Team:</label>
      <select id="teamSelect">
        <option value="" disabled selected>Select team</option>
      </select>
      <label for="formationSelect">Formation:</label>
      <select id="formationSelect">
        <option>4-4-2</option><option>4-3-3</option><option>3-5-2</option>
        <option>4-2-3-1</option><option>4-1-4-1</option><option>3-4-3</option>
        <option>5-3-2</option><option>4-5-1</option><option>3-6-1</option><option>5-4-1</option>
      </select>
      <div>
        <button onclick="saveTeam()">üìÇ Save</button>
        <button onclick="loadTeam()">üìÇ Load</button>
        <button onclick="screenshot()">üñºÔ∏è Screenshot</button>
      </div>
    </div>
  </header>
  <div class="pitch-container"><div id="pitch" class="pitch"></div></div>
  <table id="squadTable"><thead><tr><th>#</th><th>Name</th><th>Position</th></tr></thead><tbody></tbody></table>
  <script>
    // JavaScript remains unchanged as previously implemented.
  </script>
</body>
</html>